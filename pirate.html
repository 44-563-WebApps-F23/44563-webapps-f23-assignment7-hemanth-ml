<!DOCTYPE html>
<html>
<head>
  <title>Web Apps Assignment 7</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</head>
<body>

<div class="container-fluid">
  <h2>Finding   treasure by Hemanth</h2>
  <p>Clicking on the locations to search for treasure, beware the traps</p>
  <p style = "font-family:'Times New Roman',Times,serif; " id="locations">Number of locations checked is zero</p>
  <p id="penalty" style="color: rgb(232, 157, 157); background-color: rgb(104, 226, 108);">Penalty is zero.</p>
  <p style="font-family: 'Times New Roman', Times, serif; color: red;"><b>Click for help</b></p>
  <p id="help" style="color: rgb(66, 128, 0); background-position:0cqmin;"><b>Help report</b></p>
</div>

<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img id="1" onclick="check(0)"src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="2" onclick="check(1)"src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="3" onclick="check(2)"src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="4" onclick="check(3)"src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="5" onclick="check(4)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img id="6" onclick="check(5)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="7" onclick="check(6)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="8" onclick="check(7)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="9" onclick="check(8)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="10" onclick="check(9)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img id="11" onclick="check(10)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="12" onclick="check(11)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="13" onclick="check(12)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="14" onclick="check(13)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="15" onclick="check(14)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img id="16" onclick="check(15)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img  id="17" onclick="check(16)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="18" onclick="check(17)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="19" onclick="check(18)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="20" onclick="check(19)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="row"></div>
</div>
</div>
<div class="container">
    <div class="row mb-3">
    <div class="col-md-2"> 
        <img id="21" onclick="check(20)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="22" onclick="check(21)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="23" onclick="check(22)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="24" onclick="check(23)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="col-md-2">
        <img id="25" onclick="check(24)" src="pirate.JPG" width="190" height="100">
    </div>
    <div class="row"></div>
</div>
</div> 
<script>
    var ids = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25"]
    var checkCount = 0;
    var penalty = 0;
    var lastCheck = 0;
    var treasureMap = Math.floor(Math.random() * 25);
    var treasureTrap = Math.floor(Math.random() * 25);
    var gameOver = false;
    function check(position) {
        if (gameOver != true) {
            if (position == treasureMap) {
                document.getElementById(ids[position]).setAttribute("src", "treasure.JPG");
                gameOver = true;
                penalty = penalty - 3;
            }
            else if (position == treasureTrap) {
                document.getElementById(ids[position]).setAttribute("src", "treasureTrap.JPG");
                gameOver = true;
                penalty = penalty + 4;
            }
            else {
                document.getElementById(ids[position]).setAttribute("src", "treasureMap.JPG");
                penalty = penalty + 1;
            }
            checkCount++;
            document.getElementById("locations").innerHTML = "Number of locations checked is " + checkCount + ".";
            document.getElementById("penalty").innerHTML = "Penalty is " + penalty + ".";
            lastCheck = position;
        }
    }
    function help() {
        let lastRow = parseInt((lastCheck / 5), 10);
        let treasureRow = parseInt((treasureMap / 5), 10);
        let result = " ";
        let lastCol = lastCheck % 5;
        let treasureCol = treasureMap % 5;
        let rowDifference = 0;
        let colDifference = 0;
        if (treasureRow > lastRow) {
            rowDifference = treasureRow - lastRow;
        }
        else {
            rowDifference = lastRow - treasureRow;
        }
        if (treasureCol > lastCol) {
            colDifference = treasureCol - lastCol;
        }
        else {
            colDifference = lastCol - treasureCol;
        }
        if (lastRow - treasureRow == 1 || lastRow - treasureRow == 1 || lastCol - treasureCol == 1 || lastCol - treasureCol == -1) {
            result = "Can smell it";
        }
        else if (rowDifference + colDifference == 2) {
            result = "Close Matie";
        }
        else {
            result = "Step Faster";
        }
        penalty = penalty + 2;
        document.getElementById("penalty").innerHTML = "Penalty is " + penalty + ".";
        document.getElementById("help").innerHTML = result;
    }
    function resetGame() {
        treasureMap = Math.floor(Math.random() * 25);
        treasureTrap = Math.floor(Math.random() * 25);
        checkCount = 0
        penalty = 0
        document.getElementById("locations").innerHTML = "Number of locations checked is zero";
        document.getElementById("penalty").innerHTML = "Penalty is zero";
        for (let i = 0; i < 25; i++) {
            document.getElementById(ids[i]).src = "treasureMap.jpg";
        }
    }
</script>

</body>
</html>